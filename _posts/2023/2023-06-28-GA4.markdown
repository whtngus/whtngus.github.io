---
layout: post
title: "GA4"
date: 2023-06-29 02:05:23 +0900
category: datascience
---

# 1일차

## Google Analytics 4 

웹 분석 툴 -> 분석을 통해 마케팅 비지니스 의사결정에 활용 

주로 웹 기획 운영하는 사람을 대상으로 하는듯 (+ 영업)

- 정보 수집 대상

> 1. 웹사이트
>
> 포털(네이버 구글 등 ), 소셜(카카오, 인스타 등), 광고매체(검색, ), CRM(고객정보)
>
> 2. 분석 대상
>
> 사용자 - 성별/연령, 언어/지역, 사용기기, 브라우저, 운영체제
>
> 채널(유입 경로) - 직접 유입, 자연검색, 광고 채널, 이메일 등 
>
> 행동 - 첫 방문, 세션 시작, 페이지 조회 등 
>
> ​     전환 -  상품 구마, 인앱 결제, 회원 가입, 상담 신청, 견적 문의 등 

- GA4가 많이 사용되는 이유

> 1. 무료
> 2. 기능 좋음 
>
> 무료가 영향이 큰듯..... 최근 google에서 거의다 서비스 유료화를 하는데 
>
> 유료화 가능성이 있을까? (아마도 부분 유료화?)

- 각종 툴 

Data Studio - 데이터 시각화

Optimize 360 -  AB 테스트

## 마케팅 데이터 분석

### 지표/도표

### 퍼널(funnel) 분석

퍼널 관점에서 데이터를 분석 

ex) 상품 상세 페이지를 조회 -> 장바구니에 담은사람 -> 구매까지 간사람 등..

단계별로 측정 시 단계별 이탈률을 볼 수 있는 장점이 있음 (이탈 원인 파악 등 )

### 세그먼트(segment) 분석

데이터의 하위 집단 (특정 연령대, 특정 페이지 방문자, 특정제품 구매자 등)

> - 심슨 패러독스(Simpson's paradox)
>
> **부분에 대한 평균이 크다고 해서 전체에 대한 평균까지 크지는 않다**
>
> end to end로보면 잘 안보이나 단계를 나누면 잘보임
>
> ![심슨_패러독스](F:\code\whtngus.github.io\img\2023\ga4\심슨_패러독스.PNG)

위와 같이 단계를 쪼개서 봐야 알 수 있는것들이 많음

GA4에서는 코호트(cohort) 분석이 세그먼트 분석임 

  -> 데이터를 기간에 따라 세부적으로 분석 

### A/B 테스트

유명 케이스 : 오바마 의 대선 홍보화면 



## GA 데이터 수집 

GA 계정을 생성하면 js 의 추적코드가 발급이 됨 

-> 운영하는 웹사이트에 심어야함 (모든 페이지에서)

   사용자들이 웹사이트를 방문할 때 마다 데이터를 수집함 

* ? ? ?? ? 자동화는 안되나 ?.    

  300개가 넘는 항목을 수집함



GA4가 분석이 필요한데 자동으로 제공하지 못하는 데이터가 있음 

-> 대부분의 전환 데이터(별도의 설정을 해야함 -> 전자상거래 추적 코드를 통해 설정)



GA4의 이벤트는 웹사이트 기준으로 브라우저가 인지하는 모든 사용자의 행동 



- GA계정

구글 계정 하나에 

-> GA계정 여러개 생성(최대 100개)

-> GA 속성 데이터 단위 (예시 사이트별로 )

-> 데이터 스트림 여러개 생성 (web android ios 등 )



### 실습하기 

설정 -> 데이터스트림 -> 태그안내보기 -> 직접설치 -> 나오는 코드 복사하기 

웹사이트 해더파일 공통영역에 찾아서 넣어주면 됨 (어느 페이즈를 가든 항상 나오는 상단바 같은곳에 코드 추가)



데이터스트림을 만들어 클릭하면 추적코드를 심을 수 있음 

좌측바의 광고 -> 전환 경로 를 누르면 어느체널을 거쳐서 페이지로 왔는지 알 수 있음 이를해결하기 위해 광고 켐페인설정 utm url을 따로 만들어서 사용 (설정)

매출 = 구입수 * 객단가 = 유입수 * 전환율 * 객단가 



GA는 데이터 수집 시에 page_referrer(이전페이지), page_location(현재페이지)에서 데이터를 수집 

referrer -> 없으면 direct(none)  있으면 refererrer,  검색기  3가지로 구분  

  그외 -> 검색 광고 cpc(cost per click), 디스플레이 베너 광고 cpm(cost per million)  

-> 광고차단 등이 있으면 ga4에서 인식 못함을 확인 (바이어스 존재 주로 20~~30대가 이런걸 많이 쓰니까)

-> 나이 성별이 안나올 수 있음 -> 구글로그인 안한사람 주로 나이가 많거나 어린사람 대가 로그인을 안하지 않았을까?





참여도 -> 페이지 및 화면(세션에서 방문할때 페이지 성과)  vs 방문페이지(그때 화면 )

  => 페이지 및 화면에서는 그래서 수익으로 정렬하면 하나만 나옴 





## 측정 지표 

- 주요 측정 기준

> 소스
>
> 매체
>
> 직접
>
> 추천
>
> 자연 검색
>
> 기본 채널 그룹 
>
> 캠페인
>
> 수동 검색어
>
> 수동 광고 콘텐츠

기본적으로는 직접 매체 자연검색 만 잡힘





- 디버그 기능 

관리에 디버그 뷰를 들어가고 

플레이스토어에서 google analytics debugger 설치후 작동하면 디버깅을 할 수 있음 (단 스크롤은 default는 90만 측정됨 20~10%등 하고싶으면 직접 추가해야함)

- 수동 이벤트 수집 

자동으로 수집하지 못하는 정보는 수동으로 이벤트코드를 넣어줘야함 

```
 -예시
gtag('event', 'sign_up', {
	'method' : '나의메소드'

})

gtag('event', 'click_card', {
	'card_name' : '{{카드이름}}' 
	,'recommend_category' : '{{추천카테고리}}'
});
```









계정은 https://analytics.google.com/analytics/web/에서 생성







# 참고

1. 심슨 패러독스

나무위키 - https://namu.wiki/w/%EC%8B%AC%EC%8A%A8%EC%9D%98%20%EC%97%AD%EC%84%A4





















